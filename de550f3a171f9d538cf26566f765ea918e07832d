{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d9e674bf_21b65570",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1115898
      },
      "writtenOn": "2024-03-13T18:08:41Z",
      "side": 1,
      "message": "Looks good.  I\u0027ve also seem ld1r can be faster than lane.  Is there a better way to load 4 bytes in 32 bit?\n// Read 8 Y, 4 U and 4 V from 422\n#define READYUV422                               \\\n  \"vld1.8     {d0}, [%[src_y]]!              \\n\" \\\n  \"vld1.32    {d2[0]}, [%[src_u]]!           \\n\" \\\n  \"vld1.32    {d2[1]}, [%[src_v]]!           \\n\" \\\n  \"vmov.u8    d1, d0                         \\n\" \\\n  \"vmovl.u8   q1, d2                         \\n\" \\\n  \"vzip.u8    d0, d1                         \\n\" \\\n  \"vsli.u16   q1, q1, #8                     \\n\"",
      "revId": "de550f3a171f9d538cf26566f765ea918e07832d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5d169cc0_f4727c31",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1115898
      },
      "writtenOn": "2024-03-13T18:20:27Z",
      "side": 1,
      "message": "Nice performance win!  So the advantage isnt the microops, its that the register is cleansed, allowing rename, for the next iteration of the loop.",
      "revId": "de550f3a171f9d538cf26566f765ea918e07832d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4ff043fc_0e984f61",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1115898
      },
      "writtenOn": "2024-03-13T19:13:08Z",
      "side": 1,
      "message": "Ran a quick benchmark of I420ToARGB at 1280x720:\nuarch       ld1 lane     ldr\ncortex-a35   4262 ms  4244 ms\ncortex-a510  4581 ms  4427 ms\ncortex-a55   2341 ms  2345 ms\ncortex-a710   846 ms   802 ms\ncortex-a72   1193 ms  1181 ms\ncortex-a75r2 1069 ms  1059 ms\ncortex-a75    896 ms   888 ms\ncortex-a78    893 ms   872 ms\ncortex-x1     544 ms   511 ms\ncortex-x2     508 ms   474 ms\ndenver.txt   2442 ms  2366 ms\nexynos-m1    1253 ms  1257 ms\nexynos-m2    1428 ms  1513 ms\nexynos-m4     775 ms   725 ms",
      "revId": "de550f3a171f9d538cf26566f765ea918e07832d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8ef2d8d9_78ef3a2b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1571352
      },
      "writtenOn": "2024-03-14T07:34:21Z",
      "side": 1,
      "message": "Indeed. There is a non-zero benefit from avoiding use of the vector pipelines in the lane-indexed LD1 instructions on some micro-architectures, but it is nowhere near as impactful as enabling more out-of-order execution by avoiding the dependency chain!",
      "parentUuid": "5d169cc0_f4727c31",
      "revId": "de550f3a171f9d538cf26566f765ea918e07832d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c66c0ed2_ea49c1e2",
        "filename": "source/row_neon64.cc",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1115898
      },
      "writtenOn": "2024-03-13T18:08:41Z",
      "side": 1,
      "message": "move up 1 line?   should be ok reordering might allow the u and v to load at the same time.",
      "revId": "de550f3a171f9d538cf26566f765ea918e07832d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9aebb45b_4d867c0e",
        "filename": "source/row_neon64.cc",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1571352
      },
      "writtenOn": "2024-03-14T07:34:21Z",
      "side": 1,
      "message": "Seems like a small perf win on Cortex-A510 at least, will put up a separate change to do the reorder in a bit.",
      "parentUuid": "c66c0ed2_ea49c1e2",
      "revId": "de550f3a171f9d538cf26566f765ea918e07832d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dd8d005a_3cecb830",
        "filename": "source/row_neon64.cc",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1115898
      },
      "writtenOn": "2024-03-14T08:48:02Z",
      "side": 1,
      "message": "I tried this to fix exynos m2\n// Read 8 Y, 4 U and 4 V from 422\n#define READYUV422                               \\\n  \"ldr        d0, [%[src_y]], #8             \\n\" \\\n  \"ldr        s1, [%[src_u]], #4             \\n\" \\\n  \"ldr        s2, [%[src_v]], #4             \\n\" \\\n  \"zip1       v1.4s, v1.4s, v2.4s            \\n\" \\\n  \"prfm       pldl1keep, [%[src_y], 448]     \\n\" \\\n  \"zip1       v0.16b, v0.16b, v0.16b         \\n\" \\\n  \"prfm       pldl1keep, [%[src_u], 128]     \\n\" \\\n  \"zip1       v1.16b, v1.16b, v1.16b         \\n\" \\\n  \"prfm       pldl1keep, [%[src_v], 128]     \\n\"\n\nand it did get exynos back to the old speed, and x1/x2 the same, but other cpus got slower due to 2 zip instructions",
      "parentUuid": "9aebb45b_4d867c0e",
      "revId": "de550f3a171f9d538cf26566f765ea918e07832d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8f2f6f7a_d51347e6",
        "filename": "source/row_neon64.cc",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1571352
      },
      "writtenOn": "2024-03-15T10:50:39Z",
      "side": 1,
      "message": "Raised https://chromium-review.googlesource.com/c/libyuv/libyuv/+/5374285 for the reordering.",
      "parentUuid": "dd8d005a_3cecb830",
      "revId": "de550f3a171f9d538cf26566f765ea918e07832d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Owners",
        "description": {
          "value": "User with the code owner override approved the change"
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "has:enabled_code-owners"
          }
        },
        "submittabilityExpression": {
          "expressionString": "has:approval_code-owners"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Owners-Override\u003d+1"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"has:enabled_code-owners"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["has:enabled_code-owners"],"failingAtoms":[]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"has:approval_code-owners"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["has:approval_code-owners"],"failingAtoms":[]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Owners-Override=+1"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Owners-Override=+1"]}
      },
      "patchSetCommitId": "de550f3a171f9d538cf26566f765ea918e07832d",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "Submit requirement for the \u0027Code-Review\u0027 label"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX,user\u003dnon_uploader -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Bot-Commit\u003d+1 AND -label:Code-Review\u003dMIN"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX,user=non_uploader -label:Code-Review=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Code-Review=MAX,user=non_uploader"],"failingAtoms":["label:Code-Review=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Bot-Commit=+1 AND -label:Code-Review=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Bot-Commit=+1","label:Code-Review=MIN"]}
      },
      "patchSetCommitId": "de550f3a171f9d538cf26566f765ea918e07832d",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Review-Enforcement",
        "description": {
          "value": "Two Google employees must approve the change. Uploading the change or voting positively on Code-Review count as approval."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:review-enforced_gerrit"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:review-enforcement-satisfied_gerrit"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["is:review-enforced_gerrit"],"failingAtoms":[]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:review-enforcement-satisfied_gerrit"]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "de550f3a171f9d538cf26566f765ea918e07832d",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {
        "value": true
      }
    },
    {
      "submitRequirement": {
        "name": "Verified",
        "description": {
          "value": "Submit requirement for the \u0027Verified\u0027 label"
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:false"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:true"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:false"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:false"]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:true"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "de550f3a171f9d538cf26566f765ea918e07832d",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    }
  ]
}